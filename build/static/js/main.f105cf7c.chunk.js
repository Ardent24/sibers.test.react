(this["webpackJsonpsibers-react"]=this["webpackJsonpsibers-react"]||[]).push([[0],{19:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),c=n(10),o=n.n(c),r=n(7),l=n.n(r),u=n(11),i=n(2),d=function(e){var t;return e.sort((t="name",function(e,n){return e[t]>n[t]?1:-1}))},j=function(e){var t=e,n="users";localStorage.getItem(n)||localStorage.setItem(n,JSON.stringify(t));var a=localStorage.getItem("users");return JSON.parse(a)},m=n(0);function h(e){return Object(m.jsx)("button",{className:"contacts-header__add",onClick:function(){return e.modalStatus(!0)}})}var b=function(e){return Object(m.jsx)("input",{type:"search",className:"contacts-header__search",placeholder:"Search...",onChange:function(t){return e.onChangeSearchUser(t.target.value)}})};function O(e){return Object(m.jsx)("header",{className:"contacts-header",children:Object(m.jsxs)("div",{className:"contacts-header__wrapper",children:[Object(m.jsx)("h1",{className:"contacts-title",children:"Contacts"}),Object(m.jsx)(h,{modalStatus:e.modalStatus}),Object(m.jsx)(b,{listUsers:e.listUsers,onChangeSearchUser:e.onChangeSearchUser})]})})}var f=function(e){var t=e.dataUser,n=Object(m.jsx)("button",{className:"contacts-content__elem",onClick:function(){e.modalStatus(!0),e.changeModalContent(t)},children:t.name},t.id);return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(m.Fragment,{children:n})})},p=function(e){return Object(m.jsx)("div",{className:"contacts-wrapper",children:Object(m.jsx)("div",{className:"contacts-content",children:e.data&&e.data.map((function(t,n,a){return Object(m.jsx)(f,{dataUser:t,idUser:n,listUsers:a,modalStatus:e.modalStatus,changeModalContent:e.changeModalContent},n)}))})})},C=n(8),g=n.n(C),x=function(e){return Object(m.jsx)("label",{className:"contacts-modal__label",children:e.infoGroup})},U=n(5),S=n(9),v=function(e){var t=e.modalContent?e.modalContent[e.infoGroup]:"Enter your ".concat(e.infoGroup);return Object(m.jsx)("input",{type:"text",className:"contacts-modal__inp",onBlur:function(t){var n=t.target.value,a="";a="name"===e.infoGroup?n[0].toUpperCase()+n.slice(1):t.target.value,e.onChangeNewUser(Object(S.a)(Object(S.a)({},e.newUser),{},Object(U.a)({},e.infoGroup,a)))},placeholder:t})},N=function(e){return Object(m.jsxs)("div",{className:"contacts-modal__group",children:[Object(m.jsx)(x,{infoGroup:e.infoGroup}),Object(m.jsx)(v,{modalContent:e.modalContent,infoGroup:e.infoGroup,onChangeNewUser:e.onChangeNewUser,newUser:e.newUser})]})},_=n(12),w=function(e){return Object(m.jsx)("footer",{className:"contacts-modal__footer",children:Object(m.jsx)("button",{className:"contacts-modal__closed",onClick:function(){var t=[].concat(Object(_.a)(e.listUsers),[e.newUser]),n=JSON.parse(localStorage.getItem("users"));n.push(e.newUser),localStorage.setItem("users",JSON.stringify(n)),e.onChangeUsers(d(t)),e.resetModal()},children:"OK"})})},G=function(e){var t=Object(a.useState)({name:"",phone:"",email:""}),n=Object(i.a)(t,2),s=n[0],c=n[1],o=function(e){return c(e)},r=function(){e.modalStatus(!1),e.changeModalContent(null)},l=g()("contacts-modal",{active:e.isOpenModal}),u=g()("contacts-modal__wrapper",{active:e.isOpenModal}),d=e.modalContent?e.modalContent.name:"Add contact";return Object(m.jsx)("div",{className:l,onClick:function(e){e.preventDefault();var t=document.querySelector(".contacts-modal");e.target===t&&r()},children:Object(m.jsxs)("div",{className:u,children:[Object(m.jsxs)("header",{className:"contacts-modal__header",children:[Object(m.jsx)("h4",{className:"contacts-modal__title",children:d}),Object(m.jsx)("button",{className:"contacts-modal__close",onClick:r,children:"\xd7"})]}),Object(m.jsxs)("main",{className:"contacts-modal__main",children:[Object(m.jsx)(N,{modalContent:e.modalContent,infoGroup:"name",onChangeNewUser:o,newUser:s}),Object(m.jsx)(N,{modalContent:e.modalContent,infoGroup:"phone",onChangeNewUser:o,newUser:s}),Object(m.jsx)(N,{modalContent:e.modalContent,infoGroup:"email",onChangeNewUser:o,newUser:s})]}),Object(m.jsx)(w,{newUser:s,onChangeUsers:e.onChangeUsers,resetModal:r,listUsers:e.listUsers})]})})};function M(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(!1),o=Object(i.a)(c,2),r=o[0],h=o[1],b=Object(a.useState)(null),f=Object(i.a)(b,2),C=f[0],g=f[1],x=Object(a.useState)(""),U=Object(i.a)(x,2),S=U[0],v=U[1];Object(a.useEffect)((function(){n?s(d(n)):function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://demo.sibers.com/users").then((function(e){return e.json()}));case 2:t=e.sent,n=j(t),s(d(n));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[n]);var N=n&&n.filter((function(e){return e.name.toLowerCase().includes(S.toLowerCase())})),_=function(e){return h(e)},w=function(e){return g(e)},M=function(e){return s(e)};return Object(m.jsxs)("div",{className:"contacts",children:[Object(m.jsx)(O,{modalStatus:_,listUsers:N,onChangeUsers:M,onChangeSearchUser:function(e){return v(e)}}),Object(m.jsx)(p,{data:N,modalStatus:_,changeModalContent:w}),Object(m.jsx)(G,{isOpenModal:r,modalStatus:_,changeModalContent:w,modalContent:C,onChangeUsers:M,listUsers:N})]})}n(19);o.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(M,{})}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.f105cf7c.chunk.js.map